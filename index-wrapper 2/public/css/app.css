*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html{font-size:14px;-webkit-font-smoothing:antialiased}

:root{
  --cream:    #faf8f5;
  --white:    #ffffff;
  --off:      #f3f0eb;
  --sand:     #e8e2d9;
  --border:   #ddd8d0;
  --border2:  #c8c0b4;
  --ink:      #1a1714;
  --ink2:     #3d3830;
  --ink3:     #6b6156;
  --ink4:     #9c9088;
  --coral:    #e05c3a;
  --coral-l:  #f0775c;
  --coral-bg: #fdf1ee;
  --coral-b:  #f0cec6;
  --green:    #2d7a5a;
  --green-bg: #edf7f2;
  --green-b:  #a8dac4;
  --amber:    #c97c1a;
  --amber-bg: #fdf4e3;
  --blue:     #2558b8;
  --red:      #c0002a;
  --f-serif:  'Instrument Serif', serif;
  --f-mono:   'Geist Mono', monospace;
  --nav-h:    52px;
  --sb-h:     28px;
  --shadow:   0 1px 3px rgba(26,23,20,.06),0 4px 16px rgba(26,23,20,.05);
}

body{
  background:var(--cream);
  color:var(--ink);
  font-family:var(--f-mono);
  height:100vh;
  overflow:hidden;
  display:flex;
  flex-direction:column;
}

/* ── STATUS BAR ───────────────────────────────────────── */
.status-bar{
  height:var(--sb-h);
  display:flex;align-items:center;gap:8px;
  padding:0 20px;
  font-size:0.65rem;
  letter-spacing:0.04em;
  border-bottom:1px solid var(--border);
  flex-shrink:0;
  transition:background 0.3s;
}
.status-bar.status-connecting{ background:var(--amber-bg); }
.status-bar.status-connected { background:var(--green-bg); }
.status-bar.status-error     { background:#fff0f2; }
.sb-dot{
  width:6px;height:6px;border-radius:50%;flex-shrink:0;
  transition:background 0.3s;
}
.status-connecting .sb-dot{ background:var(--amber);animation:blink 1s ease-in-out infinite; }
.status-connected  .sb-dot{ background:var(--green); }
.status-error      .sb-dot{ background:var(--red); }
#statusText{ color:var(--ink2);flex:1; }
.sb-hint{ color:var(--ink4);font-size:0.6rem; }
@keyframes blink{0%,100%{opacity:1}50%{opacity:0.3}}

/* ── NAV ─────────────────────────────────────────────── */
.nav{
  height:var(--nav-h);
  border-bottom:1px solid var(--border);
  display:flex;align-items:center;
  padding:0 20px;gap:0;
  background:var(--white);
  flex-shrink:0;
}
.nav-logo{
  display:flex;align-items:center;gap:7px;
  font-family:var(--f-serif);font-size:1.1rem;
  color:var(--ink);text-decoration:none;
  margin-right:28px;cursor:default;letter-spacing:-0.01em;
}
.nav-mark{
  width:26px;height:26px;border-radius:6px;
  background:var(--coral);
  display:flex;align-items:center;justify-content:center;
  font-size:0.75rem;color:white;
  font-family:var(--f-serif);letter-spacing:-0.02em;
}
.nav-links{ display:flex;gap:0;flex:1; }
.nav-link{
  font-size:0.7rem;letter-spacing:0.03em;
  color:var(--ink3);padding:6px 12px;border-radius:5px;
  cursor:pointer;transition:color .12s,background .12s;
  border:none;background:none;
}
.nav-link:hover{ color:var(--ink);background:var(--off); }
.nav-link.active{ color:var(--coral); }
.nav-right{ display:flex;align-items:center;gap:12px;margin-left:auto; }
.nav-model{ font-size:0.62rem;color:var(--ink4); }
.nav-status-pill{
  display:flex;align-items:center;gap:5px;
  font-size:0.62rem;letter-spacing:0.04em;text-transform:uppercase;
  padding:3px 9px;border-radius:99px;
  background:var(--off);border:1px solid var(--border);
  color:var(--ink4);
  transition:background .3s,color .3s,border-color .3s;
}
.nav-status-pill.live{
  background:var(--green-bg);
  border-color:var(--green-b);
  color:var(--green);
}
.ns-dot{
  width:5px;height:5px;border-radius:50%;background:var(--ink4);
  transition:background .3s;
}
.nav-status-pill.live .ns-dot{ background:var(--green); }

/* ── APP LAYOUT ──────────────────────────────────────── */
.app-layout{
  flex:1;overflow:hidden;
  display:grid;
  grid-template-columns:216px 1fr 268px;
}

/* ── SIDEBAR ─────────────────────────────────────────── */
.sidebar{
  border-right:1px solid var(--border);
  background:var(--white);
  display:flex;flex-direction:column;
  overflow-y:auto;
  scrollbar-width:thin;
  scrollbar-color:var(--sand) transparent;
}
.sidebar-user{
  padding:16px 14px 12px;
  border-bottom:1px solid var(--border);
  display:flex;align-items:center;gap:9px;
}
.su-avatar{
  width:32px;height:32px;border-radius:8px;
  background:linear-gradient(135deg,var(--coral),#c84830);
  display:flex;align-items:center;justify-content:center;flex-shrink:0;
}
.su-name{ font-size:0.82rem;font-weight:500;color:var(--ink);font-family:var(--f-serif);font-size:0.95rem; }
.su-session{ font-size:0.6rem;color:var(--ink4);margin-top:1px; }

.side-nav{ flex:1;padding:8px 0; }
.sn-group{
  font-size:0.57rem;letter-spacing:0.1em;text-transform:uppercase;
  color:var(--ink4);padding:10px 14px 3px;
}
.sn-item{
  display:flex;align-items:center;gap:8px;
  padding:7px 14px;cursor:pointer;
  border-left:2px solid transparent;
  font-size:0.72rem;color:var(--ink3);
  transition:background .1s,color .1s,border-color .1s;
  position:relative;
}
.sn-item:hover{ background:var(--cream);color:var(--ink); }
.sn-item.active{ background:var(--coral-bg);color:var(--coral);border-left-color:var(--coral); }
.sni-icon{ font-size:0.75rem;width:14px;text-align:center;flex-shrink:0;color:var(--ink4); }
.sn-item.active .sni-icon{ color:var(--coral); }
.sni-badge{
  margin-left:auto;min-width:16px;height:16px;
  background:var(--coral);color:white;border-radius:99px;
  font-size:0.58rem;display:flex;align-items:center;justify-content:center;
  padding:0 4px;
}
.sn-placeholder{ color:var(--ink4);font-size:0.65rem;padding:10px 14px;font-style:italic; }

.sidebar-stats{
  padding:12px 14px;
  border-top:1px solid var(--border);
  background:var(--cream);
  flex-shrink:0;
}
.ss-row{
  display:flex;justify-content:space-between;
  font-size:0.65rem;color:var(--ink4);padding:2px 0;
}
.ss-row span:last-child{ color:var(--ink2); }
.ss-bar-wrap{ margin-top:8px; }
.ss-bar{ height:3px;background:var(--sand);border-radius:2px;overflow:hidden; }
.ss-fill{ height:100%;background:linear-gradient(90deg,var(--coral),var(--coral-l));border-radius:2px;transition:width .5s; }

/* ── CENTER ───────────────────────────────────────────── */
.center{
  display:flex;flex-direction:column;
  overflow:hidden;
  background:var(--cream);
}
.view{ display:none;flex-direction:column;flex:1;overflow:hidden; }
.view.active{ display:flex; }

.view-header{
  padding:14px 20px;
  border-bottom:1px solid var(--border);
  background:rgba(250,248,245,.95);
  backdrop-filter:blur(8px);
  display:flex;align-items:center;gap:12px;
  flex-shrink:0;
}
.vh-title{ font-family:var(--f-serif);font-size:1.05rem;color:var(--ink); }
.vh-sub{ font-size:0.62rem;color:var(--ink4);margin-top:2px; }
.vh-actions{ margin-left:auto;display:flex;gap:6px; }

.chip{
  font-family:var(--f-mono);font-size:0.62rem;
  padding:5px 11px;border-radius:6px;
  border:1px solid var(--border);background:var(--white);
  color:var(--ink3);cursor:pointer;
  transition:border-color .12s,background .12s,color .12s;
}
.chip:hover{ border-color:var(--ink3);background:var(--off);color:var(--ink); }
.chip-primary{
  background:var(--coral);color:white;border-color:var(--coral);
  box-shadow:0 2px 6px rgba(224,92,58,.2);
}
.chip-primary:hover{ background:var(--coral-l);border-color:var(--coral-l); }

/* ── INBOX ────────────────────────────────────────────── */
.inbox-list{
  flex:1;overflow-y:auto;padding:16px 20px;
  display:flex;flex-direction:column;gap:2px;
  scrollbar-width:thin;scrollbar-color:var(--sand) transparent;
}
.inbox-empty{
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  flex:1;gap:8px;padding:60px 20px;text-align:center;
}
.ie-icon{ font-size:1.8rem;color:var(--ink4);margin-bottom:4px; }
.ie-title{ font-family:var(--f-serif);font-size:1.1rem;color:var(--ink2); }
.ie-sub{ font-size:0.72rem;color:var(--ink4);line-height:1.6; }
.ie-sub code{ background:var(--off);padding:1px 5px;border-radius:3px;color:var(--ink2); }

.inbox-date{
  font-size:0.58rem;letter-spacing:0.07em;text-transform:uppercase;
  color:var(--ink4);padding:10px 0 4px;
  display:flex;align-items:center;gap:8px;
}
.inbox-date::after{ content:'';flex:1;height:1px;background:var(--border); }

.inbox-item{
  background:var(--white);border:1px solid var(--border);border-radius:8px;
  padding:11px 14px;cursor:pointer;
  display:flex;gap:10px;align-items:flex-start;
  transition:border-color .15s,box-shadow .15s;
  animation:slide-in .2s ease-out both;
}
@keyframes slide-in{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}
.inbox-item:hover{ border-color:var(--coral-b);box-shadow:0 2px 10px rgba(224,92,58,.07); }
.inbox-item.unread{ border-left:2px solid var(--coral); }
.inbox-item.selected{ background:var(--coral-bg);border-color:var(--coral-b); }

.ii-badge{
  width:30px;height:30px;border-radius:7px;flex-shrink:0;
  display:flex;align-items:center;justify-content:center;
  font-size:0.6rem;font-weight:600;letter-spacing:0.02em;
  border:1px solid var(--border);margin-top:1px;
}
.ii-body{ flex:1;min-width:0; }
.ii-top{ display:flex;align-items:baseline;gap:6px;margin-bottom:2px; }
.ii-from{ font-size:0.73rem;font-weight:500;color:var(--ink); }
.ii-channel{ font-size:0.6rem;color:var(--ink4); }
.ii-time{ font-size:0.58rem;color:var(--ink4);margin-left:auto; }
.ii-preview{
  font-size:0.73rem;color:var(--ink3);line-height:1.45;
  white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
}
.ii-tags{ display:flex;gap:4px;margin-top:5px;flex-wrap:wrap; }
.ii-tag{
  font-size:0.57rem;padding:1px 6px;border-radius:99px;
  background:var(--off);border:1px solid var(--border);color:var(--ink4);
}
.ii-tag.coral{ background:var(--coral-bg);border-color:var(--coral-b);color:var(--coral); }
.ii-tag.green{ background:var(--green-bg);border-color:var(--green-b);color:var(--green); }
.ii-tag.amber{ background:var(--amber-bg);border-color:#f0d89a;color:var(--amber); }

/* ── CHAT ─────────────────────────────────────────────── */
.messages{
  flex:1;overflow-y:auto;padding:20px;
  display:flex;flex-direction:column;gap:16px;
  scrollbar-width:thin;scrollbar-color:var(--sand) transparent;
}
.msg{ display:flex;gap:9px;animation:slide-in .2s ease-out both; }
.msg.user{ flex-direction:row-reverse; }
.msg-av{
  width:28px;height:28px;border-radius:7px;flex-shrink:0;
  border:1px solid var(--border);background:var(--off);
  display:flex;align-items:center;justify-content:center;
  font-size:0.65rem;font-weight:600;color:var(--ink3);margin-top:2px;
}
.msg.assistant .msg-av{ background:var(--coral-bg);border-color:var(--coral-b);color:var(--coral); }
.msg.user .msg-av{ background:var(--off);border-color:var(--border); }
.msg-body{ max-width:600px; }
.msg.user .msg-body{ display:flex;flex-direction:column;align-items:flex-end; }
.msg-meta{ font-size:0.6rem;color:var(--ink4);margin-bottom:3px; }
.msg-bubble{
  padding:9px 13px;border-radius:8px;border:1px solid var(--border);
  background:var(--white);font-size:0.78rem;line-height:1.65;color:var(--ink2);
}
.msg.assistant .msg-bubble{ background:var(--coral-bg);border-color:var(--coral-b); }
.msg.user      .msg-bubble{ background:var(--ink);color:var(--cream);border-color:var(--ink); }
.msg-bubble code{
  font-family:var(--f-mono);font-size:0.72rem;
  background:rgba(0,0,0,.07);padding:1px 4px;border-radius:3px;
}
.msg.user .msg-bubble code{ background:rgba(255,255,255,.15); }
.msg-bubble pre{
  margin-top:8px;background:var(--ink);color:var(--cream);
  padding:10px 12px;border-radius:6px;overflow-x:auto;
  font-size:0.71rem;line-height:1.6;
}
.msg-system{
  text-align:center;font-size:0.62rem;color:var(--ink4);
  padding:6px 0;display:flex;align-items:center;gap:8px;
}
.msg-system::before,.msg-system::after{
  content:'';flex:1;height:1px;background:var(--border);
}
.msg-thinking{
  display:inline-flex;align-items:center;gap:5px;
  font-size:0.6rem;color:var(--ink4);margin-bottom:5px;
  background:var(--off);border:1px solid var(--border);
  border-radius:4px;padding:2px 7px;
}
.typing-dots{ display:flex;gap:4px;align-items:center; }
.typing-dots span{
  width:5px;height:5px;border-radius:50%;background:var(--coral);
  animation:bounce .9s infinite;
}
.typing-dots span:nth-child(2){animation-delay:.15s}
.typing-dots span:nth-child(3){animation-delay:.3s}
@keyframes bounce{0%,60%,100%{transform:translateY(0);opacity:.4}30%{transform:translateY(-4px);opacity:1}}

.compose{
  flex-shrink:0;
  padding:12px 20px 16px;
  border-top:1px solid var(--border);
  background:var(--white);
}
.compose-inner{
  border:1px solid var(--border);border-radius:8px;
  background:var(--cream);
  transition:border-color .15s,box-shadow .15s;
  overflow:hidden;
}
.compose-inner:focus-within{
  border-color:var(--coral);
  box-shadow:0 0 0 3px rgba(224,92,58,.08);
}
#chatInput{
  width:100%;border:none;outline:none;resize:none;
  background:transparent;padding:9px 13px;
  font-family:var(--f-mono);font-size:0.78rem;
  color:var(--ink);line-height:1.6;
  min-height:38px;max-height:140px;overflow-y:auto;
}
#chatInput::placeholder{ color:var(--ink4); }
.compose-tools{
  display:flex;align-items:center;gap:5px;
  padding:6px 10px;border-top:1px solid var(--border);
}
.ct-btn{
  font-family:var(--f-mono);font-size:0.6rem;
  padding:2px 7px;border-radius:4px;
  border:1px solid var(--border);background:transparent;
  color:var(--ink4);cursor:pointer;
  transition:border-color .12s,color .12s,background .12s;
}
.ct-btn:hover{ border-color:var(--ink3);color:var(--ink);background:var(--off); }
.ct-sep{ flex:1; }
.send-btn{
  width:30px;height:30px;border-radius:6px;
  background:var(--coral);color:white;border:none;
  cursor:pointer;font-size:0.85rem;
  transition:background .12s,transform .1s;
}
.send-btn:hover{ background:var(--coral-l);transform:scale(1.05); }

/* ── CHANNELS VIEW ───────────────────────────────────── */
.channels-grid{
  display:grid;grid-template-columns:repeat(4,1fr);gap:10px;
  padding:20px;
}
.channel-tile{
  background:var(--white);border:1px solid var(--border);
  border-radius:8px;padding:14px;cursor:pointer;
  transition:border-color .15s,box-shadow .15s,transform .15s;
  position:relative;
}
.channel-tile:hover{
  border-color:var(--coral-b);
  box-shadow:0 4px 18px rgba(224,92,58,.09);
  transform:translateY(-1px);
}
.channel-tile.live{ background:var(--green-bg);border-color:var(--green-b); }
.ct-icon{
  width:32px;height:32px;border-radius:7px;
  display:flex;align-items:center;justify-content:center;
  font-size:0.7rem;font-weight:600;letter-spacing:.02em;
  border:1px solid var(--border);margin-bottom:10px;
}
.ct-name{ font-size:0.75rem;font-weight:500;color:var(--ink);margin-bottom:2px; }
.ct-type{ font-size:0.62rem;color:var(--ink4); }
.ct-status{
  position:absolute;top:9px;right:9px;
  font-size:0.55rem;letter-spacing:.04em;text-transform:uppercase;
  padding:2px 6px;border-radius:99px;
}
.ct-status.live{ background:var(--green-bg);color:var(--green);border:1px solid var(--green-b); }
.ct-status.off { background:var(--off);color:var(--ink4);border:1px solid var(--border); }
.ct-status.soon{ background:var(--amber-bg);color:var(--amber);border:1px solid #f0d89a; }

.connect-help{
  margin:0 20px 20px;background:var(--white);
  border:1px solid var(--border);border-radius:8px;padding:20px 22px;
}
.connect-help h3{ font-family:var(--f-serif);font-size:1rem;color:var(--ink);margin-bottom:6px; }
.connect-help p{ font-size:0.75rem;color:var(--ink3);line-height:1.65;margin-bottom:14px; }
.connect-help p code,.connect-help .hs-item code{
  background:var(--off);padding:1px 5px;border-radius:3px;color:var(--ink2);font-family:var(--f-mono);
}
.help-steps{ display:flex;flex-direction:column;gap:7px; }
.hs-item{ display:flex;align-items:flex-start;gap:10px;font-size:0.73rem;color:var(--ink3); }
.hs-num{
  width:18px;height:18px;border-radius:50%;
  background:var(--coral-bg);border:1px solid var(--coral-b);
  color:var(--coral);font-size:0.6rem;
  display:flex;align-items:center;justify-content:center;flex-shrink:0;margin-top:1px;
}

/* ── AUTOMATIONS ─────────────────────────────────────── */
.automations-list{ flex:1;overflow-y:auto;padding:16px 20px; }
.auto-empty{
  display:flex;flex-direction:column;align-items:center;
  padding:60px;gap:8px;text-align:center;
}
.ae-icon{ font-size:1.5rem;color:var(--ink4);margin-bottom:4px; }
.ae-title{ font-family:var(--f-serif);font-size:1.1rem;color:var(--ink2); }
.ae-sub{ font-size:0.72rem;color:var(--ink4); }
.ae-sub code{ background:var(--off);padding:1px 5px;border-radius:3px; }

.auto-row{
  background:var(--white);border:1px solid var(--border);
  border-radius:8px;padding:12px 14px;
  display:flex;align-items:center;gap:10px;
  margin-bottom:6px;
  transition:border-color .15s;
}
.auto-row:hover{ border-color:var(--coral-b); }
.ar-icon{
  font-size:0.72rem;color:var(--coral);width:18px;text-align:center;
  font-family:var(--f-mono);flex-shrink:0;
}
.ar-body{ flex:1; }
.ar-title{ font-size:0.73rem;font-weight:500;color:var(--ink); }
.ar-trigger{ font-size:0.62rem;color:var(--ink4);margin-top:1px; }
.ar-toggle{
  width:30px;height:17px;border-radius:99px;
  background:var(--border);position:relative;cursor:pointer;
  border:none;outline:none;transition:background .2s;flex-shrink:0;
}
.ar-toggle.on{ background:var(--green); }
.ar-toggle::after{
  content:'';position:absolute;top:2.5px;left:2.5px;
  width:12px;height:12px;border-radius:50%;
  background:white;transition:transform .2s;
}
.ar-toggle.on::after{ transform:translateX(13px); }

/* ── RIGHT PANEL ─────────────────────────────────────── */
.right-panel{
  border-left:1px solid var(--border);
  background:var(--white);
  overflow-y:auto;
  scrollbar-width:thin;scrollbar-color:var(--sand) transparent;
}
.rp-section{
  padding:14px;
  border-bottom:1px solid var(--border);
}
.rp-label{
  font-size:0.58rem;letter-spacing:0.09em;text-transform:uppercase;
  color:var(--ink4);margin-bottom:10px;
  display:flex;align-items:center;gap:8px;
}
.rp-label::after{ content:'';flex:1;height:1px;background:var(--border); }
.rp-label button{
  font-family:var(--f-mono);font-size:0.58rem;color:var(--coral);
  background:none;border:none;cursor:pointer;margin-left:auto;padding:0;
}

.model-display{ margin-bottom:10px; }
.md-name{ font-family:var(--f-serif);font-size:1rem;color:var(--ink);margin-bottom:2px; }
.md-meta{ font-size:0.62rem;color:var(--ink4); }
.model-quick{ display:flex;flex-direction:column;gap:4px; }
.mq-btn{
  font-family:var(--f-mono);font-size:0.65rem;
  padding:5px 9px;border-radius:6px;
  border:1px solid var(--border);background:var(--cream);
  color:var(--ink3);cursor:pointer;text-align:left;
  transition:border-color .12s,background .12s,color .12s;
}
.mq-btn:hover{ border-color:var(--coral-b);background:var(--coral-bg);color:var(--coral); }
.mq-btn.active{ border-color:var(--coral);background:var(--coral-bg);color:var(--coral); }

.usage-rows{}
.ur-row{
  display:flex;justify-content:space-between;
  font-size:0.65rem;color:var(--ink4);padding:3px 0;
}
.ur-row span:last-child{ color:var(--ink2); }

.live-channels{ display:flex;flex-direction:column;gap:4px; }
.lc-row{
  display:flex;align-items:center;gap:7px;
  padding:6px 8px;border:1px solid var(--border);
  border-radius:6px;background:var(--cream);
  font-size:0.67rem;
}
.lc-row.on{ background:var(--green-bg);border-color:var(--green-b); }
.lc-mono{
  width:22px;height:22px;border-radius:5px;border:1px solid var(--border);
  background:var(--off);display:flex;align-items:center;justify-content:center;
  font-size:0.55rem;font-weight:600;color:var(--ink4);flex-shrink:0;
}
.lc-row.on .lc-mono{ border-color:var(--green-b);color:var(--green);background:white; }
.lc-name{ flex:1;color:var(--ink2); }
.lc-state{ font-size:0.58rem;color:var(--ink4); }
.lc-row.on .lc-state{ color:var(--green); }
.lc-placeholder{ font-size:0.65rem;color:var(--ink4);font-style:italic; }

.rp-log-section{ padding-bottom:0; }
.gateway-log{
  max-height:160px;overflow-y:auto;
  font-size:0.6rem;line-height:1.6;color:var(--ink4);
  font-family:var(--f-mono);
  scrollbar-width:thin;scrollbar-color:var(--sand) transparent;
}
.log-line{ padding:1px 0;border-bottom:1px solid var(--off); }
.log-line.error{ color:var(--red); }
.log-line.event{ color:var(--ink2); }
.log-line.status{ color:var(--green); }
.log-clear{
  font-family:var(--f-mono);font-size:0.58rem;color:var(--ink4);
  background:none;border:none;cursor:pointer;margin-left:auto;padding:0;
}

/* ── COMMAND PALETTE ─────────────────────────────────── */
.cmd-bg{
  position:fixed;inset:0;z-index:200;
  background:rgba(26,23,20,.4);backdrop-filter:blur(4px);
  display:none;align-items:flex-start;justify-content:center;
  padding-top:100px;
}
.cmd-bg.open{ display:flex;animation:fade-in .15s ease-out; }
@keyframes fade-in{from{opacity:0}to{opacity:1}}
.cmd-palette{
  background:var(--white);border:1px solid var(--border);
  border-radius:10px;width:420px;
  box-shadow:0 8px 40px rgba(26,23,20,.15);
  animation:slide-in .15s ease-out;overflow:hidden;
}
.cp-header{
  display:flex;align-items:center;gap:8px;
  padding:10px 14px;border-bottom:1px solid var(--border);
}
.cp-slash{ font-size:1rem;color:var(--coral);font-weight:500; }
.cp-input{
  flex:1;border:none;outline:none;background:none;
  font-family:var(--f-mono);font-size:0.82rem;color:var(--ink);
}
.cp-input::placeholder{ color:var(--ink4); }
.cp-list{ max-height:240px;overflow-y:auto; }
.cp-item{
  display:flex;align-items:center;gap:10px;
  padding:9px 14px;cursor:pointer;border-bottom:1px solid var(--border);
  transition:background .1s;
}
.cp-item:hover,.cp-item.focused{ background:var(--coral-bg); }
.cp-item:last-child{ border-bottom:none; }
.cp-cmd{ font-size:0.73rem;color:var(--coral);font-weight:500;min-width:110px; }
.cp-desc{ font-size:0.68rem;color:var(--ink3); }

/* ── MODAL ────────────────────────────────────────────── */
.modal-bg{
  position:fixed;inset:0;z-index:300;
  background:rgba(26,23,20,.45);backdrop-filter:blur(4px);
  display:none;align-items:center;justify-content:center;
}
.modal-bg.open{ display:flex;animation:fade-in .15s ease-out; }
.modal{
  background:var(--white);border:1px solid var(--border);
  border-radius:10px;padding:24px 28px;max-width:480px;width:100%;margin:20px;
  box-shadow:0 8px 40px rgba(26,23,20,.15);
  animation:slide-in .15s ease-out;
}
.modal h3{ font-family:var(--f-serif);font-size:1.25rem;color:var(--ink);margin-bottom:4px; }
.modal-sub{ font-size:0.75rem;color:var(--ink3);margin-bottom:16px;line-height:1.6; }
.snippet-code{
  background:var(--ink);color:var(--cream);
  padding:14px;border-radius:7px;
  font-family:var(--f-mono);font-size:0.7rem;line-height:1.7;
  overflow-x:auto;margin-bottom:16px;white-space:pre;
}
.modal-actions{ display:flex;gap:8px;justify-content:flex-end; }
.btn-ghost-sm{
  background:none;border:1px solid var(--border);border-radius:6px;
  padding:7px 16px;font-family:var(--f-mono);font-size:0.68rem;
  cursor:pointer;color:var(--ink3);transition:background .12s;
}
.btn-ghost-sm:hover{ background:var(--off); }
.btn-primary-sm{
  background:var(--coral);color:white;border:none;border-radius:6px;
  padding:7px 16px;font-family:var(--f-mono);font-size:0.68rem;cursor:pointer;
  transition:background .12s;
}
.btn-primary-sm:hover{ background:var(--coral-l); }

/* ── SCROLLBARS ───────────────────────────────────────── */
::-webkit-scrollbar{ width:4px;height:4px; }
::-webkit-scrollbar-track{ background:transparent; }
::-webkit-scrollbar-thumb{ background:var(--sand);border-radius:2px; }
::-webkit-scrollbar-thumb:hover{ background:var(--border2); }
